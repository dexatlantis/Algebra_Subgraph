type AlmVault @entity(immutable: false) {
  id: ID! # the address of the ichi vault
  pool: Bytes! # the pool address
  farmingContract: Bytes! # Rewards distributor
  token0: Bytes! # the address of the token contract that is token0 in the vault
  allowToken0: Boolean! # determines if the liquidity provision is one-side or two-sided.
  token1: Bytes! # the address of the token contract tat is token1 in the vault
  allowToken1: Boolean! # determines if the liquidity provision is one-side or two-sided.
  createdAtTimestamp: BigInt! # the timestamp at which the vault was created
  holdersCount: Int! # number of vault LP holders
  totalAmount0: BigInt! # the total amount of token0 in the vault
  totalAmount1: BigInt! # the total amount of token1 in the vault
  totalSupply: BigInt! # the total supply of the liquidity pool token that is used by the vault
  decimals0: BigInt! # the decimals of token0
  decimals1: BigInt! # the decimals of token1
  lastPrice: BigDecimal!  # Price of token0 in terms of token1
  lastPriceTimestamp: BigInt! # the timestamp at which the lastPrice was set
  lastFeeUpdate: BigInt!
  feePerSecond0_1d: BigInt! # the fee per second for token0 over the last 1 day
  feePerSecond1_1d: BigInt! # the fee per second for token1 over the last 1 day
  feePerSecond0_3d: BigInt! # the fee per second for token0 over the last 3 days
  feePerSecond1_3d: BigInt! # the fee per second for token1 over the last 3 days
  feePerSecond0_7d: BigInt! # the fee per second for token0 over the last 7 days
  feePerSecond1_7d: BigInt! # the fee per second for token1 over the last 7 days
  feePerSecond0_30d: BigInt! # the fee per second for token0 over the last 30 days
  feePerSecond1_30d: BigInt! # the fee per second for token1 over the last 30 days
  feeApr_1d: BigDecimal! # the fee APR for token0 over the last 1 day
  feeApr_3d: BigDecimal! # the fee APR for token0 over the last 3 days
  feeApr_7d: BigDecimal! # the fee APR for token0 over the last 7 days
  feeApr_30d: BigDecimal! # the fee APR for token0 over the last 30 days
}

type Token @entity(immutable: false) {
  # token address
  id: ID!
  # token symbol
  symbol: String!
  # token name
  name: String!
  # token decimals
  decimals: BigInt!
  # token total supply
  totalSupply: BigInt!
}

type VaultShare @entity(immutable: false) {
  id: ID!
  user: Bytes!
  vault: AlmVault!
  vaultShareBalance: BigDecimal!
  vaultShareStaked: BigDecimal!
}

type VaultRebalance @entity(immutable: true) {
  id: ID! # the transaction hash and the log index separated by a hyphen
  vault: Bytes! # the vault in which the rebalance has occurred
  tick: Int! # the current price tick
  createdAtTimestamp: BigInt! # the timestamp at which the vault was created
  sqrtPrice: BigInt! # The sqrtPrice at that moment in the pool that corresponds to the vault
  lastPrice: BigDecimal!  # Price of token0 in terms of token1
  totalAmount0: BigInt! # the total amount of token0 in the vault
  totalAmount1: BigInt! # the total amount of token1 in the vault
  feeAmount0: BigInt! # the fees for token0
  feeAmount1: BigInt! # the fees for token1
  totalSupply: BigInt! # the total supply of the liquidity pool token that is used by the vault
}

type VaultCollectFee @entity(immutable: true) {
  id: ID! # the transaction hash and the log index separated by a hyphen
  vault: Bytes! # the address of the pool in which the CollectFees function was called
  sender: Bytes! # the address of the signer of the CollectFees transaction
  origin: Bytes!
  tick: Int! # the current price tick
  createdAtTimestamp: BigInt! # the timestamp at which the fee collection occurred
  sqrtPrice: BigInt! # The sqrtPrice at that moment in the pool that corresponds to the vault
  lastPrice: BigDecimal!  # Price of token0 in terms of token1
  feeAmount0: BigInt! # the collected fee amount of token0
  feeAmount1: BigInt! # the collected fee amount of token1
  totalAmount0: BigInt! # the total amount of token0 in the vault after the event has occurred
  totalAmount1: BigInt! # the total amount of token1 in the vault after the event has occurred
  totalSupply: BigInt! # the total supply of the liquidity pool token that is used by the vault
}

type VaultDeposit @entity(immutable: true) {
  id: ID! # the transaction hash and the log index separated by a hyphen
  vault: Bytes! # the address of the pool in which the deposit occurred
  sender: Bytes! # the signer of the deposit transaction
  origin: Bytes!
  to: Bytes! # the address to which liquidity pool tokens are minted
  shares: BigInt! # the quantity of liquidity tokens minted as a result of deposit
  amount0: BigInt! # the amount of token0 to be deposited
  amount1: BigInt! # the amount of token1 to be deposited
  tick: Int! # the current price tick
  createdAtTimestamp: BigInt! # the timestamp at which the deposit occurred
  sqrtPrice: BigInt! # The sqrtPrice at that moment in the pool that corresponds to the vault
  lastPrice: BigDecimal!  # Price of token0 in terms of token1
  totalAmount0: BigInt! # the total amount of token0 in the vault after the event has occurred
  totalAmount1: BigInt! # the total amount of token1 in the vault after the event has occurred
  totalAmount0BeforeEvent: BigInt! # the total amount of token0 in the vault before the event has occurred
  totalAmount1BeforeEvent: BigInt! # the total amount of token1 in the vault before the event has occurred
  totalSupply: BigInt! # the total supply of the liquidity pool token that is used by the vault
}

type VaultWithdraw @entity(immutable: true) {
  id: ID! # the transaction hash and the log index separated by a hyphen
  vault: Bytes! # the address of the vault in which the transfer has occurred
  sender: Bytes! # the signer of the transaction in which the withdraw occurred
  origin: Bytes!
  to: Bytes! # the address to which the liquidity tokens are minted
  shares: BigInt! # the quantity of liquidity tokens minted as a result of a withdraw
  amount0: BigInt! # the amount of token0 that is being withdrawn
  amount1: BigInt! # the amount of token1 that is being withdrawn
  tick: Int! # the current price tick
  createdAtTimestamp: BigInt! # the timestamp at which the withdraw occurred
  sqrtPrice: BigInt! # the sqrt price of the pool that the vault is deployed in at the time of the event
  lastPrice: BigDecimal!  # Price of token0 in terms of token1
  totalAmount0: BigInt! # the total amount of token0 in the vault after the event
  totalAmount1: BigInt! # the total amount of token1 in the vault after the event
  totalAmount0BeforeEvent: BigInt! # the total amount of token0 in the vault after the event
  totalAmount1BeforeEvent: BigInt! # the total amount of token1 in the vault after the event
  totalSupply: BigInt! # the total supply of the liquidity pool token that is used by the vault
}